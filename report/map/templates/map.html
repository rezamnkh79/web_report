
<!DOCTYPE html>
{% load static %}
<html>
<head>
<title>Leaflet sample</title>
<link rel = "stylesheet" href = "http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css"/>
<link rel="stylesheet" href="{% static 'map.css' %}"/>
<script src = "http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
<meta name="viewport" content="width=device-width">
</head>
<style type="text/css">
    /* A simple, css only, (some-what) responsive menu */


  </style>
<body>
  {% include "base/menu.html" %}  
    <div id = "map" style = "" ></div>
    
    <p id="demo">
        
    </p>

    <p id="demo1">
        
    </p>
    
    

       <script  src="{% static 'map.js' %}" >

      
    </script>
    <script>  
      //map variable
        let messages = "{{circule_messages}}";
        var circule_poses = {{circule_poses}};
        var circule_color = "{{circule_color}}";
        var marker_poses = {{marker_poses}};
        CreateMap(circule_poses,messages,circule_color,marker_poses)
     
        let flag = false;
        function myFunction() {
             if(flag ==true){
              console.log(flag)
             var layer = new L.TileLayer('http://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/ {y}.png');
             map.addLayer(layer);
              flag = false
              }
             else{

             var layer = new L.TileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png');
             map.addLayer(layer);
             flag = true


             }
            
            console.log("dsacfsacdx")
         }
    </script>
</body>
</html>